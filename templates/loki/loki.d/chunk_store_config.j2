
{% import 'jinja_macros.j2' as tpl with context -%}
{% if loki_config_chunk_store | default({}) | count > 0 %}
  {# https://grafana.com/docs/loki/latest/configuration/#chunk_store_config #}
chunk_store_config:
  {% if loki_config_chunk_store.max_look_back_period is defined and
        loki_config_chunk_store.max_look_back_period | string | length > 0 %}
  max_look_back_period:
  {% endif %}
  {% if loki_config_chunk_store.cache_lookups_older_than is defined and
        loki_config_chunk_store.cache_lookups_older_than | string | length > 0 %}
  cache_lookups_older_than:
  {% endif %}
  {% if loki_config_chunk_store.write_dedupe_cache_config is defined %}
  write_dedupe_cache_config:
    {{- tpl.makro_cache(loki_config_chunk_store.write_dedupe_cache_config | default({})) | indent(2, False) -}}
  {% endif %}
  {% if loki_config_chunk_store.chunk_cache_config is defined %}
  chunk_cache_config:
    {{- tpl.makro_cache(loki_config_chunk_store.chunk_cache_config | default({})) | indent(2, False) -}}
  {% endif %}
{% endif %}
